# Рекомендации по настройке `autocrlf` в Git

Проблема с разными переносами строк (CRLF в Windows vs. LF в Linux) может привести к "грязным" диффам и конфликтам при работе между системами. Вы работаете в основном в Windows, так что давайте оптимизируем под это, но учтём WSL.

## Кратко о настройках
- **Windows**: `autocrlf = true` — Git конвертирует LF в CRLF при checkout (чтобы файлы выглядели правильно в Windows-редакторах) и обратно при commit (чтобы в репозитории всегда были LF).
- **WSL/Linux**: `autocrlf = input` — Только при commit конвертирует CRLF в LF (если вдруг есть), но не трогает LF при checkout. Это безопасно для Linux и предотвращает лишние изменения.

## Что делать
1. **В Windows** (глобально, если ещё не): Оставьте `autocrlf = true`. Это стандарт для Windows.
   - Проверьте: `git config --global core.autocrlf true`
   - Если не настроено, установите.

2. **В WSL** (глобально): Настройте `autocrlf = input`.
   - Команда: `git config --global core.autocrlf input`
   - Это обеспечит, что при работе в WSL (например, в VS Code) файлы в репозитории будут с LF, а Windows сам разберётся при checkout.

3. **Для конкретных репозиториев**: Если нужно переопределить, используйте локальную настройку (`git config core.autocrlf <value>` в папке репозитория).

## Если репозиторий уже "грязный" (смешанные переносы)
- Нормализуйте: 
  - `git add --renormalize .` — переиндексирует все файлы с учётом текущих настроек `autocrlf`.
  - Затем commit: `git commit -m "Normalize line endings"`.
- Проверьте дифф: `git diff --name-only` — должен быть пустым.

## Почему так лучше
- Репозиторий всегда с LF (Git-стандарт).
- В Windows файлы автоматически конвертируются для локальной работы.
- В WSL — минимальные изменения, так как Linux предпочитает LF.
- Это минимизирует конфликты при синхронизации между Windows и WSL.

Если у вас уже есть проблемы в репозитории, покажите вывод `git status` или `git diff` — помогу диагностировать. Тестируйте на тестовом репозитории сначала!